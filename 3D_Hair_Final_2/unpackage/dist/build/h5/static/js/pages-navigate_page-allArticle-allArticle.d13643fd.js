(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-navigate_page-allArticle-allArticle"],{"0225":function(e,t,i){"use strict";i("a434"),i("e25e"),i("ac1f"),i("1276"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=uni.createInnerAudioContext(),a={data:function(){return{likes:99,processorHeight:"5px",commentTime:"2019-07-12 12:10:13",currentPlayTime:"00",zero:0,currentIndex:-1,currentCheckBoxIndex:-1,duration:0,userName:"",list:[],checked:[],playStatus:!1,playORnot:!0,playPercent:0,audioSrc:"",showDeleteEntry:!1,Empty:""}},onShow:function(){var e=this;uni.getStorage({key:"userInfo",success:function(t){e.userName=t.data.name}});for(var t=e.list.length,i=0;i<t;i++)e.list.splice(0,1),e.checked.splice(0,1);uni.request({url:"/api/getAllArticle",method:"POST",data:{userName:e.userName},success:function(t){if(0!=t.data.data[0].status){1==t.data.data[0].admin&&(e.showDeleteEntry=!0);for(var i=t.data.data,n=1;n<i.length;n++)e.list.push(i[n].userName+" "+i[n].postTitle+" "+i[n].postTime+" "+i[n].postAudio+" "+i[n].regPhoto+" "+i[n].postID),e.checked.push(!1)}else e.$u.toast("当前无文章")}})},onNavigationBarButtonTap:function(e){"发布"==e.text&&uni.navigateTo({url:"../Home/newArticle/newArticle"})},methods:{userinfoClick:function(e){var t=this;uni.navigateTo({url:"../mine/mySettings/basicInfo/basicInfo?userName="+t.userName})},checkboxChange:function(e){var t=e.name;this.checked[t]=!this.checked[t]},buttonDelete:function(e){for(var t=this,i=!1,n=0;n<t.checked.length;n++)if(t.checked[n]){i=!0;break}i?uni.showModal({title:"确认删除",content:"确认要删除选中文章吗？",success:function(e){var i=[];if(e.confirm){t.$u.toast("用户点击确定");for(var n=t.checked.length,a=0,o=0;a<n;a++)t.checked[o]?(i.push(t.list[o].split(" ")[6]),t.list.splice(o,1),t.checked.splice(o,1)):o+=1;uni.request({url:"/api/deleteArticle",method:"POST",data:{postID:i},success:function(e){e.data.data.status?t.$u.toast("删除成功"):t.$u.toast("删除失败")},fail:function(e){t.$u.toast("删除失败")}})}else e.cancel&&t.$u.toast("取消删除")}}):t.$u.toast("请选择要删除的文章")},likesClick:function(){this.$u.toast("当前未安排点赞响应")},playAudio:function(e){var t=this;null!=t.list[e.target.id].split(" ")[4]?(n.src=t.list[e.target.id].split(" ")[4],t.playStatus&&t.currentIndex!=e.target.id&&(t.playStatus=!1,t.currentIndex=-1,t.playORnot=!0,n.stop(),t.playPercent=0),t.playORnot?(t.playStatus=!0,t.currentIndex=e.target.id,t.playORnot=!1,n.play(),n.onPlay((function(){t.$u.toast("开始播放")})),n.onCanplay((function(e){t.duration=parseInt(n.duration)})),n.onTimeUpdate((function(e){t.playPercent=n.currentTime/t.duration*100,t.currentPlayTime=parseInt(n.currentTime)})),n.onEnded((function(e){t.playPercent=0,t.currentIndex=-1,t.playORnot=!0}))):(t.play="播放",t.currentIndex=-1,t.playORnot=!0,n.pause(),t.playPercent=0,n.onPause((function(){t.$u.toast("暂停播放")}))),n.onError((function(e){t.$u.toast("音频播放发生错误,加载失败")}))):t.$u.toast("当前文章无音源，无法播放")},passageDetail:function(e){var t=this,i=e;uni.navigateTo({url:"../Home/passageDetails/passageDetails?ID="+t.list[i].split(" ")[6]+"&currentName="+t.list[i].split(" ")[0]})}}};t.default=a},"024d":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,".content[data-v-8c8dd91c]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:flex}\n/*一个列元素 */.cell[data-v-8c8dd91c]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:flex;width:100%}\n/*在热门评论里通过list父组件设置宽度 */.list[data-v-8c8dd91c]{width:100%}\n/*列表外框-元素 */.element[data-v-8c8dd91c]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:90%;height:90px;padding-left:10px;margin:4px;border-radius:4px;font-size:12px;-moz-box-shadow:inset 0 0 10px #ccc;-webkit-box-shadow:inset 0 0 10px #ccc;box-shadow:inset 0 0 10px #ccc}\n/*头像 */.icon[data-v-8c8dd91c]{width:30px;height:30px;margin-right:4px;border-radius:3px;-moz-box-shadow:0 0 1px 1px #06c;-webkit-box-shadow:0 0 1px 1px #06c;box-shadow:0 0 1px 1px #06c}\n/*删除按钮 */.deletebutton[data-v-8c8dd91c]{width:30px;height:23px;margin-right:4px;background-color:#f50;font-size:12px}\n/*音频播放 */.audioSetting[data-v-8c8dd91c]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;display:-webkit-box;display:-webkit-flex;display:flex}\n/*play图标 */.playIcon[data-v-8c8dd91c]{width:20px;height:20px}\n/*进度条 */.processorBar[data-v-8c8dd91c]{margin-left:4px;width:40%}\n/*列表栏的父容器 */.fatherVessel[data-v-8c8dd91c]{font-size:12px;width:100%;height:100%}\n/*第三栏即编辑评论栏 */.editBar[data-v-8c8dd91c]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;display:-webkit-box;display:-webkit-flex;display:flex;color:#2b85e4}\n/*删除复选库框 */.checkboxes[data-v-8c8dd91c]{width:105px;height:16px;padding-left:5px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}\n/*顶栏显示栏 */.topBar[data-v-8c8dd91c]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;display:-webkit-box;display:-webkit-flex;display:flex}\n/*点赞数 */.likes[data-v-8c8dd91c]{color:#2b85e4;margin-left:5px}\n/*模块标题 */.title[data-v-8c8dd91c]{width:100%;height:50px;padding-left:20px;font-size:14px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-radius:4px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-align-content:center;align-content:center;background-color:#2979ff}\n/*编辑评论 */.editComment[data-v-8c8dd91c]{font-size:12px;color:#2b85e4;margin-left:4px}\n/*评论时间-浏览量-评论数 */\n/* .postTime-Scan-Comment{\n\tfont-size: 12px;\n} */\n/*显示评论 */.allComment[data-v-8c8dd91c]{width:90%;height:30px;padding-left:20px;font-size:14px;padding-top:5px;margin-top:10px;border-radius:4px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-align-content:center;align-content:center;background-color:#5ff}\n/*热门评论标题 */.titleComment[data-v-8c8dd91c]{font-size:14px}\n/*操作条 */.opBar[data-v-8c8dd91c]{width:90%;height:30px;font-size:12px;padding-top:5px;border-radius:4px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;background-color:#f0f0f0;-moz-box-shadow:inset 0 0 10px #ccc;-webkit-box-shadow:inset 0 0 10px #ccc;box-shadow:inset 0 0 10px #ccc}\n/*操作条文本 */.giveComment[data-v-8c8dd91c]{color:#2b85e4;margin-right:20px}",""]),e.exports=t},"184d":function(e,t,i){var n=i("024d");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("7063a80e",n,!0,{sourceMap:!1,shadowMode:!1})},1879:function(e,t,i){"use strict";var n=i("184d"),a=i.n(n);a.a},"428b":function(e,t,i){"use strict";i.r(t);var n=i("5255"),a=i("a4d8");for(var o in a)"default"!==o&&function(e){i.d(t,e,(function(){return a[e]}))}(o);i("1879");var c,s=i("f0c5"),l=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"8c8dd91c",null,!1,n["a"],c);t["default"]=l.exports},5255:function(e,t,i){"use strict";var n={uButton:i("b655").default,uCheckbox:i("cc82").default,uLineProgress:i("4b6e").default},a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{staticClass:"txttitle"},[e._v("所有文章")]),i("u-button",{directives:[{name:"show",rawName:"v-show",value:e.showDeleteEntry,expression:"showDeleteEntry"}],staticClass:"deletebutton",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.buttonDelete.apply(void 0,arguments)}}},[e._v("删除")])],1),i("v-uni-view",{staticClass:"list"},e._l(e.list,(function(t,n){return i("v-uni-view",{key:n,staticClass:"cell",attrs:{"hover-class":"hover"}},[t!=e.Empty?i("v-uni-view",{staticClass:"element"},[i("v-uni-image",{staticClass:"icon",attrs:{src:"/static/mine1.png"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.userinfoClick.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"fatherVessel"},[i("v-uni-view",{staticClass:"topBar",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.passageDetail(n)}}},[i("v-uni-text",[e._v("作者:"+e._s(t.split(" ")[0]))]),i("v-uni-text",[e._v("标题:"+e._s(t.split(" ")[1]))]),i("v-uni-text",[e._v("发布时间:"+e._s(t.split(" ")[2].split('"')[1])+" "+e._s(t.split(" ")[3].split('"')[0]))])],1),n!=e.currentCheckBoxIndex?i("v-uni-view",{staticClass:"checkboxes"},[i("u-checkbox",{directives:[{name:"show",rawName:"v-show",value:e.showDeleteEntry,expression:"showDeleteEntry"}],staticClass:"checkbox",attrs:{size:"12px","icon-size":"12px","label-size":"12px",disabled:!1,name:n},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.checkboxChange.apply(void 0,arguments)}},model:{value:e.checked[n],callback:function(t){e.$set(e.checked,n,t)},expression:"checked[index]"}},[e._v("删除文章")])],1):e._e(),n==e.currentCheckBoxIndex?i("v-uni-view",{staticClass:"checkboxes"},[i("u-checkbox",{directives:[{name:"show",rawName:"v-show",value:e.showDeleteEntry,expression:"showDeleteEntry"}],staticClass:"checkbox",attrs:{size:"12px","icon-size":"12px","label-size":"12px",disabled:!1,name:n},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.checkboxChange.apply(void 0,arguments)}},model:{value:e.checked[n],callback:function(t){e.$set(e.checked,n,t)},expression:"checked[index]"}},[e._v("删除文章")])],1):e._e(),n!=e.currentIndex?i("v-uni-view",{staticClass:"audioSetting"},[i("v-uni-image",{staticClass:"playIcon",attrs:{src:"/static/play.png",id:n},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.playAudio.apply(void 0,arguments)}}}),i("v-uni-text",{staticClass:"processorText",attrs:{id:n}},[e._v("00:00/00:00")]),i("u-line-progress",{staticClass:"processorBar",attrs:{height:e.processorHeight,striped:!0,percent:e.zero,"show-percent":!1,"striped-active":!0,id:n}})],1):e._e(),n==e.currentIndex?i("v-uni-view",{staticClass:"audioSetting"},[i("v-uni-image",{staticClass:"playIcon",attrs:{src:"/static/pause.png",id:n},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.playAudio.apply(void 0,arguments)}}}),i("v-uni-text",{staticClass:"processorText",attrs:{id:n}},[e._v(e._s(e.currentPlayTime)+":00/"+e._s(e.duration)+":00")]),i("u-line-progress",{staticClass:"processorBar",attrs:{height:e.processorHeight,striped:!0,percent:e.playPercent,"show-percent":!1,"striped-active":!0,id:n}})],1):e._e()],1)],1):e._e()],1)})),1)],1)},o=[];i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return n}))},a4d8:function(e,t,i){"use strict";i.r(t);var n=i("0225"),a=i.n(n);for(var o in n)"default"!==o&&function(e){i.d(t,e,(function(){return n[e]}))}(o);t["default"]=a.a}}]);