(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-navigate_page-mine-userManage-userManage"],{1330:function(e,t,n){var i=n("6aaa");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("5423d81d",i,!0,{sourceMap:!1,shadowMode:!1})},"2ea7":function(e,t,n){var i=n("3b75");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("633a6743",i,!0,{sourceMap:!1,shadowMode:!1})},"301c":function(e,t,n){"use strict";n.r(t);var i=n("7202"),a=n("9e8e");for(var c in a)"default"!==c&&function(e){n.d(t,e,(function(){return a[e]}))}(c);n("ac9d");var o,s=n("f0c5"),r=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"4c5099a7",null,!1,i["a"],o);t["default"]=r.exports},"3b75":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */.u-checkbox[data-v-e356a272]{display:-webkit-inline-box;display:-webkit-inline-flex;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;overflow:hidden;-webkit-user-select:none;user-select:none;line-height:1.8}.u-checkbox__icon-wrap[data-v-e356a272]{color:#606266;-webkit-box-flex:0;-webkit-flex:none;flex:none;display:-webkit-flex;\r\ndisplay:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;\r\n-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;box-sizing:border-box;width:%?42?%;height:%?42?%;color:transparent;text-align:center;-webkit-transition-property:color,border-color,background-color;transition-property:color,border-color,background-color;font-size:20px;border:1px solid #c8c9cc;-webkit-transition-duration:.2s;transition-duration:.2s}.u-checkbox__icon-wrap--circle[data-v-e356a272]{border-radius:100%}.u-checkbox__icon-wrap--square[data-v-e356a272]{border-radius:%?6?%}.u-checkbox__icon-wrap--checked[data-v-e356a272]{color:#fff;background-color:#2979ff;border-color:#2979ff}.u-checkbox__icon-wrap--disabled[data-v-e356a272]{background-color:#ebedf0;border-color:#c8c9cc}.u-checkbox__icon-wrap--disabled--checked[data-v-e356a272]{color:#c8c9cc!important}.u-checkbox__label[data-v-e356a272]{word-wrap:break-word;margin-left:%?10?%;margin-right:%?24?%;color:#606266;font-size:%?30?%}.u-checkbox__label--disabled[data-v-e356a272]{color:#c8c9cc}',""]),e.exports=t},5837:function(e,t,n){"use strict";var i=n("2ea7"),a=n.n(i);a.a},"6aaa":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*列表外框-元素 */.element[data-v-4c5099a7]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:100%;height:40px;padding-left:10px;margin:4px;border-radius:4px;font-size:12px;-moz-box-shadow:inset 0 0 10px #ccc;-webkit-box-shadow:inset 0 0 10px #ccc;box-shadow:inset 0 0 10px #ccc}\n/*删除复选库框 */.checkboxes[data-v-4c5099a7]{width:110px;height:40px;margin-top:5px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}\n/*一个列元素 */.cell[data-v-4c5099a7]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;display:-webkit-box;display:-webkit-flex;display:flex}\n/*头像 */.icon[data-v-4c5099a7]{width:20px;height:20px;margin-right:4px;border-radius:3px;-moz-box-shadow:0 0 1px 1px #06c;-webkit-box-shadow:0 0 1px 1px #06c;box-shadow:0 0 1px 1px #06c}\n/*删除按钮 */.deletebutton[data-v-4c5099a7]{width:30px;height:23px;margin-right:4px;background-color:#f50;font-size:12px}\n/*列表栏的父容器 */.fatherVessel[data-v-4c5099a7]{width:100%;height:100%}\n/*第三栏即编辑评论栏 */.editBar[data-v-4c5099a7]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;display:-webkit-box;display:-webkit-flex;display:flex}\n/*模块标题 */.title[data-v-4c5099a7]{width:100%;height:50px;padding-left:20px;font-size:14px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-radius:4px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-align-content:center;align-content:center;background-color:#2979ff}\n/*编辑评论 */.editUserInfor[data-v-4c5099a7]{font-size:12px;color:#2b85e4;margin-left:4px}\n/*评论时间 */.commentTime[data-v-4c5099a7]{font-size:12px}",""]),e.exports=t},7202:function(e,t,n){"use strict";var i={uButton:n("b655").default,uCheckbox:n("cc82").default},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"title"},[n("v-uni-text",{staticClass:"txttitle"},[e._v("用户管理")]),n("u-button",{staticClass:"deletebutton",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.buttonDelete.apply(void 0,arguments)}}},[e._v("删除")])],1),n("v-uni-view",{staticClass:"list"},e._l(e.list,(function(t,i){return n("v-uni-view",{key:i,staticClass:"cell",attrs:{"hover-class":"hover"}},[n("v-uni-view",{staticClass:"element"},[n("v-uni-image",{staticClass:"icon",attrs:{src:"/static/mine1.png"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.userinfoClick(i)}}}),n("v-uni-view",{staticClass:"fatherVessel",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.userinfoClick(i)}}},[n("v-uni-text",{attrs:{id:i}},[e._v("用户名:"+e._s(t.split(" ")[0]))]),n("v-uni-text",{attrs:{id:i}},[e._v(e._s(" ")+"最后登录时间:"+e._s(t.split(" ")[4].split('"')[1])+" "+e._s(t.split(" ")[5].split('"')[0]))]),n("v-uni-view",{staticClass:"editBar"},[n("v-uni-text",{staticClass:"commentTime"},[e._v("注册时间:"+e._s(t.split(" ")[2].split('"')[1])+" "+e._s(t.split(" ")[3].split('"')[0]))]),n("v-uni-text",{staticClass:"editUserInfor",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.editUserInfor(i)}}},[e._v("|编辑用户")])],1)],1),i!=e.currentCheckBoxIndex?n("v-uni-view",{staticClass:"checkboxes"},[n("u-checkbox",{staticClass:"checkbox",attrs:{size:"12px","icon-size":"12px","label-size":"12px",disabled:!1,"v-show":e.showCheckboxes,name:i},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.checkboxChange.apply(void 0,arguments)}},model:{value:e.checked[i],callback:function(t){e.$set(e.checked,i,t)},expression:"checked[index]"}},[e._v("删除用户")])],1):e._e(),i==e.currentCheckBoxIndex?n("v-uni-view",{staticClass:"checkboxes"},[n("u-checkbox",{staticClass:"checkbox",attrs:{size:"12px","icon-size":"12px","label-size":"12px",disabled:!1,"v-show":e.showCheckboxes,name:i},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.checkboxChange.apply(void 0,arguments)}},model:{value:e.checked[i],callback:function(t){e.$set(e.checked,i,t)},expression:"checked[index]"}},[e._v("删除用户")])],1):e._e()],1)],1)})),1)],1)},c=[];n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return i}))},"9bb8":function(e,t,n){"use strict";var i={uIcon:n("1c6c").default},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"u-checkbox",style:[e.checkboxStyle]},[n("v-uni-view",{staticClass:"u-checkbox__icon-wrap",class:[e.iconClass],style:[e.iconStyle],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toggle.apply(void 0,arguments)}}},[n("u-icon",{staticClass:"u-checkbox__icon-wrap__icon",attrs:{name:"checkbox-mark",size:e.checkboxIconSize,color:e.iconColor}})],1),n("v-uni-view",{staticClass:"u-checkbox__label",style:{fontSize:e.$u.addUnit(e.labelSize)},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClickLabel.apply(void 0,arguments)}}},[e._t("default")],2)],1)},c=[];n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return i}))},"9e8e":function(e,t,n){"use strict";n.r(t);var i=n("dca9"),a=n.n(i);for(var c in i)"default"!==c&&function(e){n.d(t,e,(function(){return i[e]}))}(c);t["default"]=a.a},ac9d:function(e,t,n){"use strict";var i=n("1330"),a=n.n(i);a.a},c584:function(e,t,n){"use strict";n.r(t);var i=n("cd40"),a=n.n(i);for(var c in i)"default"!==c&&function(e){n.d(t,e,(function(){return i[e]}))}(c);t["default"]=a.a},cc82:function(e,t,n){"use strict";n.r(t);var i=n("9bb8"),a=n("c584");for(var c in a)"default"!==c&&function(e){n.d(t,e,(function(){return a[e]}))}(c);n("5837");var o,s=n("f0c5"),r=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"e356a272",null,!1,i["a"],o);t["default"]=r.exports},cd40:function(e,t,n){"use strict";n("a15b"),n("d81d"),n("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"u-checkbox",props:{name:{type:[String,Number],default:""},shape:{type:String,default:""},value:{type:Boolean,default:!1},disabled:{type:[String,Boolean],default:""},labelDisabled:{type:[String,Boolean],default:""},activeColor:{type:String,default:""},iconSize:{type:[String,Number],default:""},labelSize:{type:[String,Number],default:""},size:{type:[String,Number],default:""}},data:function(){return{parentDisabled:!1,newParams:{}}},created:function(){this.parent=this.$u.$parent.call(this,"u-checkbox-group"),this.parent&&this.parent.children.push(this)},computed:{isDisabled:function(){return""!==this.disabled?this.disabled:!!this.parent&&this.parent.disabled},isLabelDisabled:function(){return""!==this.labelDisabled?this.labelDisabled:!!this.parent&&this.parent.labelDisabled},checkboxSize:function(){return this.size?this.size:this.parent?this.parent.size:34},checkboxIconSize:function(){return this.iconSize?this.iconSize:this.parent?this.parent.iconSize:20},elActiveColor:function(){return this.activeColor?this.activeColor:this.parent?this.parent.activeColor:"primary"},elShape:function(){return this.shape?this.shape:this.parent?this.parent.shape:"square"},iconStyle:function(){var e={};return this.elActiveColor&&this.value&&!this.isDisabled&&(e.borderColor=this.elActiveColor,e.backgroundColor=this.elActiveColor),e.width=this.$u.addUnit(this.checkboxSize),e.height=this.$u.addUnit(this.checkboxSize),e},iconColor:function(){return this.value?"#ffffff":"transparent"},iconClass:function(){var e=[];return e.push("u-checkbox__icon-wrap--"+this.elShape),1==this.value&&e.push("u-checkbox__icon-wrap--checked"),this.isDisabled&&e.push("u-checkbox__icon-wrap--disabled"),this.value&&this.isDisabled&&e.push("u-checkbox__icon-wrap--disabled--checked"),e.join(" ")},checkboxStyle:function(){var e={};return this.parent&&this.parent.width&&(e.width=this.parent.width,e.flex="0 0 ".concat(this.parent.width)),this.parent&&this.parent.wrap&&(e.width="100%",e.flex="0 0 100%"),e}},methods:{onClickLabel:function(){this.isLabelDisabled||this.isDisabled||this.setValue()},toggle:function(){this.isDisabled||this.setValue()},emitEvent:function(){var e=this;this.$emit("change",{value:!this.value,name:this.name}),setTimeout((function(){e.parent&&e.parent.emitEvent&&e.parent.emitEvent()}),80)},setValue:function(){var e=0;if(this.parent&&this.parent.children&&this.parent.children.map((function(t){t.value&&e++})),1==this.value)this.emitEvent(),this.$emit("input",!this.value);else{if(this.parent&&e>=this.parent.max)return this.$u.toast("最多可选".concat(this.parent.max,"项"));this.emitEvent(),this.$emit("input",!this.value)}}}};t.default=i},dca9:function(e,t,n){"use strict";n("a434"),n("ac1f"),n("1276"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;uni.createInnerAudioContext();var i={data:function(){return{currentCheckBoxIndex:-1,commentTime:"2021-07-12 12:10:13",checked:[],userName:"",list:[],content:"",showCheckboxes:!0,Empty:""}},onLoad:function(){var e=this;uni.getStorage({key:"userInfo",success:function(t){e.userName=t.data.name}}),uni.request({url:"/api/getAllUserInfor/"+e.userName,method:"GET",data:{userName:e.userName},success:function(t){for(var n=t.data.data,i=0;i<n.length;i++)e.list.push(n[i][1]+" "+n[i][2]+" "+n[i][3]+" "+n[i][4]+" "+n[i][0]+" "+n[i][5]),e.checked.push(!1)}})},methods:{userinfoClick:function(e){var t=this;uni.navigateTo({url:"../mySettings/basicInfo/basicInfo?userName="+t.list[e].split(" ")[0]})},buttonDelete:function(e){for(var t=this,n=!1,i=0;i<t.checked.length;i++)if(t.checked[i]){n=!0;break}n?uni.showModal({title:"确认删除",content:"确认要删除选中用户吗？",success:function(e){if(e.confirm){t.$u.toast("用户点击确定");for(var n=[],i=t.checked.length,a=0,c=0;a<i;a++)if(t.checked[c]){if("1"==t.list[c].split(" ")[7]){t.$u.toast("选中对象包含管理员,管理员不可删除"),c+=1;continue}n.push(t.list[c].split(" ")[0]),t.list.splice(c,1),t.checked.splice(c,1)}else c+=1;if(0==n.length)return;uni.request({url:"/api/deleteUser",method:"POST",data:{userName:n},success:function(e){t.$u.toast("删除成功")},fail:function(e){t.$u.toast("删除失败")}})}else e.cancel&&t.$u.toast("取消删除")}}):t.$u.toast("请选择要删除的用户")},checkboxChange:function(e){var t=e;this.checked[t]=!this.checked[t]},editUserInfor:function(e){var t=this;uni.navigateTo({url:"editUserInfor/editUserInfor?userName="+t.list[e].split(" ")[0]})}}};t.default=i}}]);