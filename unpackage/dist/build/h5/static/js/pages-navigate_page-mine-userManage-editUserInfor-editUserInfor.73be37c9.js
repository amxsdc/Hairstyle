(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-navigate_page-mine-userManage-editUserInfor-editUserInfor"],{"307e":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */uni-page-body[data-v-af3900d2]{background-color:#fff}.content[data-v-af3900d2]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-align-content:center;align-content:center;width:100%;height:100%}.content .logo[data-v-af3900d2]{height:72px;width:72px;margin-top:%?60?%;margin-left:auto;margin-right:auto;margin-bottom:%?50?%;border-radius:5px;-moz-box-shadow:0 0 10px 10px #06c;-webkit-box-shadow:0 0 10px 10px #06c;box-shadow:0 0 10px 10px #06c}.content .showinfo[data-v-af3900d2]{width:50%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;display:-webkit-box;display:-webkit-flex;display:flex}.content .showinfo .hintinfo[data-v-af3900d2]{width:50%;margin-top:20px;font-size:12px}.content .showinfo .userinfo[data-v-af3900d2]{width:80%;height:20px;background-color:#fff;border-radius:3px;margin-top:20px;font-size:12px;-moz-box-shadow:inset 0 0 10px #ccc;-webkit-box-shadow:inset 0 0 10px #ccc;box-shadow:inset 0 0 10px #ccc}.content .showinfo .pullDownMenu[data-v-af3900d2]{width:80%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;display:-webkit-box;display:-webkit-flex;display:flex}.content .showinfo .pullEntry[data-v-af3900d2]{margin-top:20px;width:20px;height:20px}.content .showinfo .pullIcon[data-v-af3900d2]{height:20px;width:20px}.content .buttonSet[data-v-af3900d2]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;display:-webkit-box;display:-webkit-flex;display:flex}.content .button-LogCancel[data-v-af3900d2]{width:40%;height:35px;font-size:14px;margin-top:60px}.content .title[data-v-af3900d2]{width:100%;height:50px;padding-left:20px;font-size:14px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-radius:4px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-align-content:center;align-content:center;background-color:#2979ff}body.?%PAGE?%[data-v-af3900d2]{background-color:#fff}',""]),t.exports=e},"6fae":function(t,e,i){"use strict";var n=i("a223"),a=i.n(n);a.a},"767b":function(t,e,i){"use strict";i.r(e);var n=i("895b"),a=i("e571");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("6fae");var s,r=i("f0c5"),l=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"af3900d2",null,!1,n["a"],s);e["default"]=l.exports},"895b":function(t,e,i){"use strict";var n={uIcon:i("1c6c").default,uButton:i("b655").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{staticClass:"txttitle"},[t._v("编辑用户")])],1),i("v-uni-image",{staticClass:"logo",attrs:{src:t.userPhoto},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickPortraint.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"showinfo"},[i("v-uni-text",{staticClass:"hintinfo"},[t._v("用户名：")]),i("v-uni-input",{staticClass:"userinfo",attrs:{type:"text",placeholder:"请输入用户名"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),i("v-uni-view",{staticClass:"showinfo"},[i("v-uni-text",{staticClass:"hintinfo"},[t._v("性 别：")]),i("v-uni-view",{staticClass:"pullDownMenu"},[i("v-uni-text",{staticClass:"userinfo"},[t._v(t._s(t.gender))]),i("v-uni-picker",{staticClass:"pullEntry",attrs:{range:t.genderList},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.genderChange.apply(void 0,arguments)}}},[i("v-uni-label",[i("u-icon",{staticClass:"pullIcon",attrs:{name:"/static/pullDown.png"}})],1),i("v-uni-label",{},[t._v(t._s(t.genderList[t.index]))])],1)],1)],1),i("v-uni-view",{staticClass:"showinfo"},[i("v-uni-text",{staticClass:"hintinfo"},[t._v("年 龄：")]),i("v-uni-input",{staticClass:"userinfo",attrs:{type:"text",placeholder:"请输入邮箱"},model:{value:t.age,callback:function(e){t.age=e},expression:"age"}})],1),i("v-uni-view",{staticClass:"showinfo"},[i("v-uni-text",{staticClass:"hintinfo"},[t._v("邮 箱：")]),i("v-uni-input",{staticClass:"userinfo",attrs:{type:"text",placeholder:"请输入邮箱"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),i("v-uni-view",{staticClass:"showinfo"},[i("v-uni-text",{staticClass:"hintinfo"},[t._v("用户权限：")]),i("v-uni-view",{staticClass:"pullDownMenu"},[i("v-uni-text",{staticClass:"userinfo"},[t._v(t._s(t.userRoot))]),i("v-uni-picker",{staticClass:"pullEntry",attrs:{range:t.rootList},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.rootChange.apply(void 0,arguments)}}},[i("v-uni-label",[i("u-icon",{staticClass:"pullIcon",attrs:{name:"/static/pullDown.png"}})],1),i("v-uni-label",{},[t._v(t._s(t.rootList[t.index]))])],1)],1)],1),i("v-uni-view",{staticClass:"buttonSet"},[i("u-button",{staticClass:"button-LogCancel",style:[t.buttonStyle],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("提交")]),i("u-button",{staticClass:"button-LogCancel",style:[t.buttonStyle],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel.apply(void 0,arguments)}}},[t._v("取消")])],1)],1)},o=[];i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}))},"8d35":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{name:"",password:"",genderList:["男","女"],rootList:["管理员","普通用户"],gender:"男",age:"",email:"",userRoot:"普通用户",userPhoto:"",index:-1,userName:"",oldUserName:""}},computed:{buttonStyle:function(){var t={color:"#fff"};return t.backgroundColor=this.$u.color["warning"],t}},methods:{onLoad:function(t){var e=this;e.oldUserName=t.userName,uni.request({url:"/api/managerGetUserInfor",method:"POST",data:{userName:t.userName},success:function(t){e.name=t.data.data[0][0],e.age=t.data.data[0][2],e.gender=t.data.data[0][3],e.email=t.data.data[0][4],"0"==t.data.data[0][6]?e.userRoot="普通用户":e.userRoot="管理员",null==t.data.data[0][5]?e.userPhoto="/static/mine1.png":e.userPhoto=t.data.data[0][5]}})},genderChange:function(t){this.gender=this.genderList[t.target.value]},rootChange:function(t){if(this.userRoot="普通用户"==this.rootList[t.target.value])return this.$u.toast("您不可以将管理员改为普通用户"),void(this.userRoot="管理员");this.userRoot=this.rootList[t.target.value]},clickPortraint:function(){this.$u.toast("不可编辑用户头像")},submit:function(){var t=this;if(""!=t.name&&""!=t.age&&""!=t.email){var e=/^(\w)+(\.\w+)*@(\w)+((\.\w{2,3}){1,3})$/;e.test(this.email)?uni.showModal({title:"确认提交",content:"确认要更改用户信息吗？",success:function(e){e.confirm?uni.request({url:"/api/editUserInfor",method:"POST",data:{oldName:t.oldUserName,newName:t.name,regSex:t.gender,regAge:t.age,regEmail:t.email,admin:t.userRoot},success:function(e){1==e.data.data.status?(t.$u.toast("发布成功"),uni.navigateBack({delta:1})):t.$u.toast("发布失败,请重新提交")}}):e.cancel&&t.$u.toast("取消上传")}}):this.$u.toast("您的邮箱格式不符合要求,请检查")}else t.$u.toast("请完善用户信息再提交")},cancel:function(){uni.showModal({title:"确认取消",content:"确认要取消并推出编辑吗？",success:function(t){t.confirm&&uni.redirectTo({url:"../userManage"})}})}}};e.default=n},a223:function(t,e,i){var n=i("307e");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("e3c761d8",n,!0,{sourceMap:!1,shadowMode:!1})},e571:function(t,e,i){"use strict";i.r(e);var n=i("8d35"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a}}]);