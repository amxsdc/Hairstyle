(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-navigate_page-Home-home"],{"0331":function(n,e,t){"use strict";var i={uButton:t("b655").default,uCheckbox:t("cc82").default,uLineProgress:t("4b6e").default},a=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("v-uni-view",{staticClass:"content"},[t("v-uni-view",{staticClass:"title"},[t("v-uni-text",{staticClass:"txttitle"},[n._v("我的文章")]),t("u-button",{directives:[{name:"show",rawName:"v-show",value:n.showDeleteEntry,expression:"showDeleteEntry"}],staticClass:"deletebutton",on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.buttonDelete.apply(void 0,arguments)}}},[n._v("删除")])],1),t("v-uni-view",{staticClass:"list"},n._l(n.list,(function(e,i){return t("v-uni-view",{key:i,staticClass:"cell",attrs:{"hover-class":"hover"}},[t("v-uni-view",{staticClass:"element"},[t("v-uni-image",{staticClass:"icon",attrs:{src:n.myHeadPhoto},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.userinfoClick.apply(void 0,arguments)}}}),t("v-uni-view",{staticClass:"fatherVessel"},[t("v-uni-view",{staticClass:"topBar",attrs:{id:i},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.passageDetail(i)}}},[t("v-uni-text",[n._v("文章标题:"+n._s(e.split(" ")[0]))]),t("v-uni-text",{staticClass:"postTime-Scan-Comment"},[n._v("文章发表时间:"+n._s(e.split(" ")[3])+" "+n._s(e.split(" ")[4]))])],1),i!=n.currentCheckBoxIndex?t("v-uni-view",{staticClass:"checkboxes"},[t("u-checkbox",{directives:[{name:"show",rawName:"v-show",value:n.showDeleteEntry,expression:"showDeleteEntry"}],staticClass:"checkbox",attrs:{size:"12px","icon-size":"12px","label-size":"12px",disabled:!1,name:i},on:{change:function(e){arguments[0]=e=n.$handleEvent(e),n.checkboxChange.apply(void 0,arguments)}},model:{value:n.checked[i],callback:function(e){n.$set(n.checked,i,e)},expression:"checked[index]"}},[n._v("删除文章")])],1):n._e(),i==n.currentCheckBoxIndex?t("v-uni-view",{staticClass:"checkboxes"},[t("u-checkbox",{directives:[{name:"show",rawName:"v-show",value:n.showDeleteEntry,expression:"showDeleteEntry"}],staticClass:"checkbox",attrs:{size:"12px","icon-size":"12px","label-size":"12px",disabled:!1,name:i},on:{change:function(e){arguments[0]=e=n.$handleEvent(e),n.checkboxChange.apply(void 0,arguments)}},model:{value:n.checked[i],callback:function(e){n.$set(n.checked,i,e)},expression:"checked[index]"}},[n._v("删除文章")])],1):n._e(),i!=n.currentIndex?t("v-uni-view",{staticClass:"audioSetting"},[t("v-uni-image",{staticClass:"playIcon",attrs:{src:"/static/play.png",id:i},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.playAudio.apply(void 0,arguments)}}}),t("v-uni-text",{staticClass:"processorText",attrs:{id:i}},[n._v("00:00/00:00")]),t("u-line-progress",{staticClass:"processorBar",attrs:{height:n.processorHeight,striped:!0,percent:n.zero,"show-percent":!1,"striped-active":!0,id:i}})],1):n._e(),i==n.currentIndex?t("v-uni-view",{staticClass:"audioSetting"},[t("v-uni-image",{staticClass:"playIcon",attrs:{src:"/static/pause.png",id:i},on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.playAudio.apply(void 0,arguments)}}}),t("v-uni-text",{staticClass:"processorText",attrs:{id:i}},[n._v(n._s(n.currentPlayTime)+":00/"+n._s(n.duration)+":00")]),t("u-line-progress",{staticClass:"processorBar",attrs:{height:n.processorHeight,striped:!0,percent:n.playPercent,"show-percent":!1,"striped-active":!0,id:i}})],1):n._e()],1)],1)],1)})),1)],1)},o=[];t.d(e,"b",(function(){return a})),t.d(e,"c",(function(){return o})),t.d(e,"a",(function(){return i}))},"30a8":function(n,e,t){"use strict";t.r(e);var i=t("0331"),a=t("6c1e");for(var o in a)"default"!==o&&function(n){t.d(e,n,(function(){return a[n]}))}(o);t("6331");var s,c=t("f0c5"),r=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,"2a8ac37f",null,!1,i["a"],s);e["default"]=r.exports},"61d8":function(n,e,t){var i=t("7a7e");"string"===typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);var a=t("4f06").default;a("201a6186",i,!0,{sourceMap:!1,shadowMode:!1})},6331:function(n,e,t){"use strict";var i=t("61d8"),a=t.n(i);a.a},"6c1e":function(n,e,t){"use strict";t.r(e);var i=t("d8f1"),a=t.n(i);for(var o in i)"default"!==o&&function(n){t.d(e,n,(function(){return i[n]}))}(o);e["default"]=a.a},"7a7e":function(n,e,t){var i=t("24fb");e=i(!1),e.push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*父容器 */.content[data-v-2a8ac37f]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:flex}\n/*一个列元素 */.cell[data-v-2a8ac37f]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:flex;width:100%}\n/*在热门评论里通过list父组件设置宽度 */.list[data-v-2a8ac37f]{width:100%}\n/*列表外框-元素 */.element[data-v-2a8ac37f]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:90%;height:90px;padding-left:10px;margin:4px;border-radius:4px;font-size:12px;-moz-box-shadow:inset 0 0 10px #ccc;-webkit-box-shadow:inset 0 0 10px #ccc;box-shadow:inset 0 0 10px #ccc}\n/*头像 */.icon[data-v-2a8ac37f]{width:30px;height:30px;margin-right:4px;border-radius:3px;-moz-box-shadow:0 0 1px 1px #06c;-webkit-box-shadow:0 0 1px 1px #06c;box-shadow:0 0 1px 1px #06c}\n/*删除按钮 */.deletebutton[data-v-2a8ac37f]{width:30px;height:23px;margin-right:4px;background-color:#f50;font-size:12px}\n/*音频播放 */.audioSetting[data-v-2a8ac37f]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;display:-webkit-box;display:-webkit-flex;display:flex}\n/*play图标 */.playIcon[data-v-2a8ac37f]{width:20px;height:20px}\n/*进度条 */.processorBar[data-v-2a8ac37f]{margin-left:4px;width:50%}\n/*列表栏的父容器 */.fatherVessel[data-v-2a8ac37f]{font-size:12px;width:100%;height:100%}\n/*第三栏即编辑评论栏 */.editBar[data-v-2a8ac37f]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;display:-webkit-box;display:-webkit-flex;display:flex;color:#2b85e4}\n/*删除复选库框 */.checkboxes[data-v-2a8ac37f]{width:105px;height:16px;padding-left:5px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}\n/*顶栏显示栏 */.topBar[data-v-2a8ac37f]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;display:-webkit-box;display:-webkit-flex;display:flex}\n/*点赞数 */.likes[data-v-2a8ac37f]{color:#2b85e4;margin-left:5px}\n/*模块标题 */.title[data-v-2a8ac37f]{width:100%;height:50px;padding-left:20px;font-size:14px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-radius:4px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-align-content:center;align-content:center;background-color:#2979ff}\n/*编辑评论 */.editComment[data-v-2a8ac37f]{font-size:12px;color:#2b85e4;margin-left:4px}\n/*评论时间-浏览量-评论数 */.postTime-Scan-Comment[data-v-2a8ac37f]{font-size:12px}\n/*显示评论 */.allComment[data-v-2a8ac37f]{width:90%;height:30px;padding-left:20px;font-size:14px;padding-top:5px;margin-top:10px;border-radius:4px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-align-content:center;align-content:center;background-color:#5ff}\n/*热门评论标题 */.titleComment[data-v-2a8ac37f]{font-size:14px}\n/*操作条 */.opBar[data-v-2a8ac37f]{width:90%;height:30px;font-size:12px;padding-top:5px;border-radius:4px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;background-color:#f0f0f0;-moz-box-shadow:inset 0 0 10px #ccc;-webkit-box-shadow:inset 0 0 10px #ccc;box-shadow:inset 0 0 10px #ccc}\n/*操作条文本 */.giveComment[data-v-2a8ac37f]{color:#2b85e4;margin-right:20px}",""]),n.exports=e},d8f1:function(n,e,t){"use strict";t("a434"),t("e25e"),t("ac1f"),t("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=uni.createInnerAudioContext(),a={data:function(){return{processorHeight:"5px",postTime:"2019-07-12 12:10:13",currentPlayTime:"00",zero:0,currentIndex:-1,currentCheckBoxIndex:-1,duration:0,userName:"",list:[],checked:[],playStatus:!1,playORnot:!0,playPercent:0,audioSrc:"",showDeleteEntry:!0,myHeadPhoto:"/static/mine1.png"}},onNavigationBarButtonTap:function(n){"退出"==n.text?uni.showModal({title:"确认删除",content:"确认要退出登录吗？",success:function(n){n.confirm&&uni.redirectTo({url:"../../login_regist/login/login"})}}):uni.navigateTo({url:"newArticle/newArticle"})},onShow:function(){var n=this;uni.getStorage({key:"userInfo",success:function(e){n.userName=e.data.name}}),uni.getStorage({key:"headPhotoLink",success:function(e){""!=e.data.Photolink?n.myHeadPhoto=e.data.Photolink:n.myHeadPhoto="/static/mine1.png"},fail:function(e){n.myHeadPhoto="/static/mine1.png",n.$u.toast("头像加载失败")}});for(var e=n.list.length,t=0;t<e;t++)n.list.splice(0,1),n.checked.splice(0,1);uni.request({url:"/api/getMyArticle",method:"POST",data:{userName:n.userName},success:function(e){if(e.data.data[0].status)for(var t=e.data.data,i=0;i<t.length;i++)n.list.push(t[i].postTitle+" "+t[i].postID+" "+t[i].postAudio+" "+t[i].postTime),n.checked.push(!1);else n.$u.toast("您没有发布过文章哦")}})},methods:{userinfoClick:function(n){var e=this;uni.navigateTo({url:"../mine/mySettings/basicInfo/basicInfo?userName="+e.userName})},checkboxChange:function(n){var e=n.name;this.checked[e]=!this.checked[e]},buttonDelete:function(n){for(var e=this,t=!1,i=0;i<e.checked.length;i++)if(e.checked[i]){t=!0;break}t?uni.showModal({title:"确认删除",content:"确认要删除选中文章吗？",success:function(n){if(n.confirm){for(var t=[],i=e.checked.length,a=0,o=0;a<i;a++)e.checked[o]?(t.push(e.list[o].split(" ")[1]),e.list.splice(o,1),e.checked.splice(o,1)):o+=1;uni.request({url:"/api/deleteArticle",method:"POST",data:{postID:t},success:function(n){e.$u.toast("删除成功")},fail:function(n){e.$u.toast("删除失败")}})}else n.cancel&&e.$u.toast("取消删除")}}):e.$u.toast("请选择要删除的文章")},playAudio:function(n){var e=this;i.src=e.list[n.target.id].split(" ")[2],e.playStatus&&e.currentIndex!=n.target.id&&(e.playStatus=!1,e.currentIndex=-1,e.playORnot=!0,i.stop(),e.playPercent=0),e.playORnot?(e.playStatus=!0,e.currentIndex=n.target.id,e.playORnot=!1,i.play(),i.onCanplay((function(n){e.duration=parseInt(i.duration)})),i.onTimeUpdate((function(n){e.playPercent=i.currentTime/e.duration*100,e.currentPlayTime=parseInt(i.currentTime)})),i.onEnded((function(n){e.playPercent=0,e.currentIndex=-1,e.playORnot=!0}))):(e.play="播放",e.currentIndex=-1,e.playORnot=!0,i.pause(),e.playPercent=0),i.onError((function(n){e.$u.toast("音频播放发生错误,加载失败")}))},passageDetail:function(n){var e=this;uni.navigateTo({url:"passageDetails/passageDetails?ID="+e.list[n].split(" ")[1]+"&currentName="+e.userName})}}};e.default=a}}]);